<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plataforma Académica | Resultado de validación</title>

  <link rel="icon" type="image/png" href="https://i.imgur.com/YUJ7rzx.png" />

  <style>
    :root{
      --verde:#7a8457;
      --verde-osc:#6b734f;
      --fondo:#efefef;
      --panel:#ffffff;
      --borde:#d7d7d7;
      --sombra: 0 10px 24px rgba(0,0,0,.10);
      --texto:#222;
      --muted:#666;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Arial, Helvetica, sans-serif;
      background: var(--fondo);
      color: var(--texto);
      overflow-x:hidden;
    }
    img{max-width:100%; height:auto; display:block;}
    a{color:inherit}

    .shell{
      max-width: 1160px;
      margin: 0 auto;
      padding: 0 18px;
    }

    /* Top links */
    .topbar{
      background:#fff;
      border-bottom:1px solid #e3e3e3;
    }
    .topbar .inner{
      display:flex;
      justify-content:flex-end;
      gap:18px;
      font-size:13px;
      color:#555;
      padding:8px 0;
    }
    .topbar a{ text-decoration:none; }
    .topbar a:hover{ text-decoration:underline; }

    /* Header */
    header{
      background:#fff;
      border-bottom:1px solid #e6e6e6;
    }
    header .inner{
      padding:14px 0;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:14px;
    }
    .brand img{
      height:52px;
      width:auto;
    }
    /* Título alineado a la derecha (como pediste) */
    .brand .text{
      text-align:right;
    }
    .brand .text h1{
      margin:0;
      font-size:18px;
      color:#2b2b2b;
      font-weight:900;
      line-height:1.05;
    }
    .brand .text p{
      margin:3px 0 0 0;
      font-size:12px;
      color:#666;
      font-weight:700;
    }

    /* Acciones header (Volver / Copiar) */
    .head-actions{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .btn-ghost{
      background:#fff;
      border:1px solid #d6d6d6;
      padding:10px 14px;
      border-radius:8px;
      font-weight:800;
      cursor:pointer;
    }
    .btn-ghost:hover{ border-color:#bfbfbf; }
    .btn-primary{
      background:var(--verde);
      color:#fff;
      border:none;
      padding:10px 14px;
      border-radius:8px;
      font-weight:900;
      cursor:pointer;
    }
    .btn-primary:hover{ background:var(--verde-osc); }

    /* Nav */
    nav{
      background: var(--verde);
      border-top:1px solid rgba(255,255,255,.15);
    }
    nav .inner{
      display:flex;
      justify-content:center;
      flex-wrap:wrap;
    }
    nav a{
      display:block;
      padding:14px 16px;
      color:#fff;
      text-decoration:none;
      font-weight:800;
      font-size:13px;
      border-right:1px solid rgba(255,255,255,.12);
    }
    nav a:last-child{border-right:none}
    nav a:hover{background:var(--verde-osc)}

    /* Layout resultado */
    .wrap{
      margin:22px 0 26px;
    }
    .panel{
      background: var(--panel);
      border:1px solid var(--borde);
      border-radius:10px;
      box-shadow: var(--sombra);
      overflow:hidden;
    }
    .panel-body{
      padding:18px;
    }
    .result-grid{
      display:grid;
      grid-template-columns: minmax(0, 1fr) 340px;
      gap:16px;
      align-items:start;
    }

    .title-center{
      text-align:center;
      padding:10px 0 16px;
    }
    .title-center h2{
      margin:0;
      font-size:22px;
      font-weight:900;
      color:#111;
    }
    .title-center p{
      margin:4px 0 0 0;
      font-size:13px;
      color:#555;
      font-weight:700;
    }

    .box{
      border:1px solid #e2e2e2;
      border-radius:10px;
      overflow:hidden;
      background:#fff;
    }
    .box .box-head{
      background:#f6f6f6;
      padding:10px 12px;
      font-weight:900;
      font-size:13px;
      border-bottom:1px solid #e9e9e9;
    }
    .box .box-content{
      padding:12px;
      font-size:13px;
      color:#222;
    }

    .table{
      width:100%;
      border-collapse:collapse;
      font-size:13px;
    }
    .table tr{ border-bottom:1px dotted #dadada; }
    .table tr:last-child{ border-bottom:none; }
    .table th{
      text-align:left;
      padding:10px 8px;
      width:170px;
      font-weight:900;
      color:#222;
      vertical-align:top;
    }
    .table td{
      padding:10px 8px;
      color:#222;
      vertical-align:top;
    }

    .muted-note{
      margin-top:14px;
      background:#fff6e8;
      border:1px solid #f0d7b5;
      padding:10px 12px;
      border-radius:8px;
      font-size:12px;
      color:#333;
      font-weight:700;
    }

    /* Botón constancia */
    .btn-constancia{
      background:var(--verde);
      color:#fff;
      border:none;
      padding:12px 18px;
      border-radius:8px;
      font-weight:900;
      cursor:pointer;
    }
    .btn-constancia:hover{ background:var(--verde-osc); }

    /* Tarjeta QR */
    .qr-card{
      background:#fff;
      border:1px solid #e2e2e2;
      border-radius:12px;
      padding:14px;
      box-shadow: 0 6px 16px rgba(0,0,0,.08);
    }
    .qr-title{
      font-weight:900;
      font-size:13px;
      margin-bottom:12px;
    }
    .qr-box{
      border:1px solid #e9e9e9;
      border-radius:12px;
      padding:12px;
      text-align:center;
      background:#fbfbfb;
    }
    .mag{
      width:44px;height:44px;
      margin:0 auto 8px;
      display:grid;
      place-items:center;
    }
    .qr-curp{
      font-weight:900;
      margin:0 0 6px;
      font-size:14px;
    }
    .qr-url{
      margin:0;
      font-size:12px;
      color:#444;
      word-break:break-word;
    }

    /* Redes sociales */
    .social-wrap{
      background:#2a2a2a;
      color:#fff;
      border-top:1px solid #1f1f1f;
    }
    .social-wrap .inner{
      padding:16px 0;
    }
    .social-title{
      font-weight:900;
      font-size:12px;
      letter-spacing:.5px;
      margin-bottom:12px;
    }
    .social-cards{
      display:flex;
      gap:14px;
      flex-wrap:wrap;
    }
    .social-card{
      display:flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      background:#1f1f1f;
      border:1px solid rgba(255,255,255,.10);
      padding:12px 14px;
      border-radius:10px;
      min-width: 260px;
    }
    .social-card:hover{
      border-color: rgba(255,255,255,.22);
      transform: translateY(-1px);
    }
    .icon{
      width:36px;height:36px;
      border-radius:999px;
      display:grid;
      place-items:center;
      flex:0 0 36px;
      background:#0f0f0f;
      border:1px solid rgba(255,255,255,.14);
    }
    .social-card .t1{
      margin:0;
      font-weight:900;
      font-size:13px;
      color:#fff;
    }
    .social-card .t2{
      margin:2px 0 0;
      font-size:12px;
      color:#cfcfcf;
    }

    footer{
      background:#141414;
      color:#d8d8d8;
      text-align:center;
      padding:10px 14px;
      font-size:12px;
      border-top:1px solid rgba(255,255,255,.08);
    }

    @media (max-width: 980px){
      .result-grid{ grid-template-columns: 1fr; }
      .brand .text{ text-align:left; }
      .head-actions{ flex-wrap:wrap; justify-content:flex-end; }
    }
  </style>
</head>

<body>

  <!-- Topbar links -->
  <div class="topbar">
    <div class="shell">
      <div class="inner">
        <a href="https://www.morelos.gob.mx/" target="_blank" rel="noopener">Portal ciudadano</a>
        <a href="https://iebem.morelos.gob.mx/directorio" target="_blank" rel="noopener">Directorio</a>
        <a href="https://www.morelos.gob.mx/poder_ejecutivo" target="_blank" rel="noopener">Sitios de Gobierno de Morelos</a>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header>
    <div class="shell">
      <div class="inner">
        <div class="brand">
          <img src="https://i.imgur.com/g3QP0r7.png" alt="Logo institucional">
          <div class="text">
            <h1>Plataforma Académica</h1>
            <p>Consulta y validación de cursos</p>
          </div>
        </div>

        <div class="head-actions">
          <button class="btn-ghost" id="btnVolver">Volver</button>
          <button class="btn-primary" id="btnCopiar">Copiar enlace</button>
        </div>
      </div>
    </div>
  </header>

  <!-- Nav -->
  <nav>
    <div class="shell">
      <div class="inner">
        <a href="index.html">INICIO</a>
        <a href="https://iebem.edu.mx/contenido/tramites-y-servicios" target="_blank" rel="noopener">TRÁMITES Y SERVICIOS</a>
        <a href="https://iebem.edu.mx/contenido/unidades-administrativas" target="_blank" rel="noopener">ESTRUCTURA</a>
        <a href="https://iebem.edu.mx/noticias" target="_blank" rel="noopener">NOTICIAS</a>
        <a href="https://iebem.edu.mx/contenido/transparencia" target="_blank" rel="noopener">TRANSPARENCIA</a>
        <a href="https://iebem.edu.mx/contenido/contacto" target="_blank" rel="noopener">CONTACTO</a>
      </div>
    </div>
  </nav>

  <!-- Content -->
  <div class="shell">
    <div class="wrap">
      <div class="panel">
        <div class="panel-body">

          <div class="title-center">
            <h2>Sistema Integral de Formación Continua</h2>
            <p>Consulta Código QR</p>
          </div>

          <div class="result-grid">

            <!-- LEFT: Datos -->
            <div id="leftCol">

              <div class="box" style="margin-bottom:12px;">
                <div class="box-head">Datos del Participante</div>
                <div class="box-content">
                  <table class="table">
                    <tr><th>Primer Apellido:</th><td id="pPrimer">—</td></tr>
                    <tr><th>Segundo Apellido:</th><td id="pSegundo">—</td></tr>
                    <tr><th>Nombre(s):</th><td id="pNombre">—</td></tr>
                    <tr><th>CURP:</th><td id="pCurp">—</td></tr>
                  </table>
                </div>
              </div>

              <div class="box" style="margin-bottom:12px;">
                <div class="box-head">INSTITUCIÓN FORMADORA</div>
                <div class="box-content">
                  <table class="table">
                    <tr><th>Denominación:</th><td id="pInst">—</td></tr>
                  </table>
                </div>
              </div>

              <div class="box">
                <div class="box-head">OFERTA CURSADA</div>
                <div class="box-content">
                  <table class="table">
                    <tr><th>Folio:</th><td id="cFolio">—</td></tr>
                    <tr><th>Clave registrada:</th><td id="cClave">—</td></tr>
                    <tr><th>Nombre:</th><td id="cNombre">—</td></tr>
                    <tr><th>Tipo:</th><td id="cTipo">—</td></tr>
                    <tr><th>Duración:</th><td id="cDur">—</td></tr>
                    <tr><th>Estatus:</th><td id="cEst">—</td></tr>
                  </table>

                  <!-- Botón PDF -->
                  <div style="margin-top:16px; text-align:right;">
                    <button id="btnConstancia" class="btn-constancia">Generar constancia (PDF)</button>
                  </div>

                  <div class="muted-note">
                    <b>**</b>Esta información no sustituye a la constancia y se presenta sólo con fines de validación de la misma.
                  </div>
                </div>
              </div>

            </div>

            <!-- RIGHT: QR -->
            <div>
              <div class="qr-card">
                <div class="qr-title">Consulta por CURP</div>
                <div class="qr-box">
                  <div class="mag" aria-hidden="true">
                    <!-- icono lupa -->
                    <svg width="44" height="44" viewBox="0 0 64 64" fill="none">
                      <circle cx="28" cy="28" r="16" stroke="#2b6cff" stroke-width="6"/>
                      <line x1="40" y1="40" x2="56" y2="56" stroke="#2b6cff" stroke-width="6" stroke-linecap="round"/>
                      <circle cx="48" cy="48" r="6" fill="#2b6cff" opacity=".15"/>
                    </svg>
                  </div>
                  <p class="qr-curp" id="qrCurp">—</p>
                  <p class="qr-url" id="qrUrl">—</p>
                </div>
              </div>
            </div>

          </div><!-- /grid -->

        </div>
      </div>
    </div>
  </div>

  <!-- Redes sociales -->
  <section class="social-wrap">
    <div class="shell">
      <div class="inner">
        <div class="social-title">REDES SOCIALES</div>
        <div class="social-cards">

          <a class="social-card" href="https://www.facebook.com/iebem/?fref=ts#" target="_blank" rel="noopener">
            <div class="icon" aria-hidden="true">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M14 9h3V6h-3c-2.2 0-4 1.8-4 4v3H7v3h3v7h3v-7h3l1-3h-4v-3c0-.6.4-1 1-1Z" fill="#fff"/>
              </svg>
            </div>
            <div>
              <p class="t1">HAZTE FAN EN FACEBOOK</p>
              <p class="t2">Visita la página oficial</p>
            </div>
          </a>

          <a class="social-card" href="https://www.youtube.com/user/IEBEMTV" target="_blank" rel="noopener">
            <div class="icon" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M21.6 7.2a3 3 0 0 0-2.1-2.1C17.7 4.6 12 4.6 12 4.6s-5.7 0-7.5.5A3 3 0 0 0 2.4 7.2 31.3 31.3 0 0 0 2 12a31.3 31.3 0 0 0 .4 4.8 3 3 0 0 0 2.1 2.1c1.8.5 7.5.5 7.5.5s5.7 0 7.5-.5a3 3 0 0 0 2.1-2.1A31.3 31.3 0 0 0 22 12a31.3 31.3 0 0 0-.4-4.8ZM10 15.5v-7l6 3.5-6 3.5Z" fill="#fff"/>
              </svg>
            </div>
            <div>
              <p class="t1">CANAL EN YOUTUBE</p>
              <p class="t2">Contenido y transmisiones</p>
            </div>
          </a>

        </div>
      </div>
    </div>
  </section>

  <footer>© 2026. Todos los derechos reservados.</footer>

  <script>
    /* ==========================
       BASE DE DATOS LOCAL
       ========================== */

    const personas = [
      {
        curp: "BIDD971230HASRZM02",
        primerApellido: "BRIONES",
        segundoApellido: "DÍAZ",
        nombres: "DAMIÁN",
        institucionFormadora: "Instituto de la Educación Básica del Estado de Morelos/DYCAP Daga Diseño y Capacitación Profesional",
        curso: {
          folio: "-01-IEBEM-DCM-2025-87341",
          clave: "C1720240154",
          nombre: "Fundamentos de Inclusión de Género y Aprendizajes Éticos para la Educación Básica",
          tipo: "Curso",
          duracion: "200 hrs.",
          estatus: "CONCLUIDO"
        }
      },
      {
        curp: "LOCE790624HASPRL03",
        primerApellido: "LOPERENA",
        segundoApellido: "DE LA CRUZ",
        nombres: "ELIU JUAN DANIEL",
        institucionFormadora: "Instituto de la Educación Básica del Estado de Morelos/DYCAP Daga Diseño y Capacitación Profesional",
        curso: {
          folio: "-01-IEBEM-DCM-2025-93427",
          clave: "C1720240154",
          nombre: "Fundamentos de Inclusión de Género y Aprendizajes Éticos para la Educación Básica",
          tipo: "Curso",
          duracion: "200 hrs.",
          estatus: "CONCLUIDO"
        }
      }
    ];

    /* ==========================
       PDF POR CURP
       (Los PDFs deben estar en la misma carpeta que resultado.html)
       ========================== */
    const constanciasPDF = {
      "BIDD971230HASRZM02": "Damián.pdf",
      "LOCE790624HASPRL03": "Eliu.pdf"
    };

    function $(id){ return document.getElementById(id); }

    function setText(id, value){
      const el = $(id);
      if(el) el.textContent = value ?? "—";
    }

    function renderNoRegistrada(curp){
      setText("pPrimer","—");
      setText("pSegundo","—");
      setText("pNombre","—");
      setText("pCurp", curp || "—");
      setText("pInst","—");
      setText("cFolio","—");
      setText("cClave","—");
      setText("cNombre","—");
      setText("cTipo","—");
      setText("cDur","—");
      setText("cEst","—");

      setText("qrCurp", curp || "—");
      setText("qrUrl", window.location.href);
    }

    function renderPersona(p){
      setText("pPrimer", p.primerApellido);
      setText("pSegundo", p.segundoApellido);
      setText("pNombre", p.nombres);
      setText("pCurp", p.curp);
      setText("pInst", p.institucionFormadora);

      setText("cFolio", p.curso.folio);
      setText("cClave", p.curso.clave);
      setText("cNombre", "“" + p.curso.nombre + "”");
      setText("cTipo", p.curso.tipo);
      setText("cDur", p.curso.duracion);
      setText("cEst", p.curso.estatus);

      setText("qrCurp", p.curp);
      setText("qrUrl", window.location.href);
    }

    // Botones
    $("btnVolver").addEventListener("click", () => {
      window.location.href = "index.html";
    });

    $("btnCopiar").addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText(window.location.href);
        $("btnCopiar").textContent = "Enlace copiado";
        setTimeout(()=> $("btnCopiar").textContent = "Copiar enlace", 1400);
      }catch(e){
        alert("No se pudo copiar el enlace. Copia manualmente la URL del navegador.");
      }
    });

    $("btnConstancia").addEventListener("click", () => {
      const params = new URLSearchParams(window.location.search);
      const curp = (params.get("curp") || "").trim();

      if(!curp || !constanciasPDF[curp]){
        alert("No se encontró la constancia en PDF para esta CURP.");
        return;
      }
      window.open(constanciasPDF[curp], "_blank");
    });

    // Carga por querystring
    const params = new URLSearchParams(window.location.search);
    const curp = (params.get("curp") || "").trim();

    if(!curp){
      renderNoRegistrada("—");
    }else{
      const persona = personas.find(x => x.curp === curp);
      if(!persona){
        renderNoRegistrada(curp);
      }else{
        renderPersona(persona);
      }
    }
  </script>

</body>
</html>
