<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Consulta C√≥digo QR | Sistema Integral de Formaci√≥n Continua</title>

  <link rel="icon" type="image/png" href="https://i.imgur.com/YUJ7rzx.png" />

  <style>
    :root{
      --verde:#7a8457;
      --verde-osc:#6b734f;
      --fondo:#eeeeee;
      --panel:#ffffff;
      --borde:#d9d9d9;
      --texto:#222;
      --muted:#666;
      --shadow: 0 10px 24px rgba(0,0,0,.08);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: Arial, Helvetica, sans-serif;
      background: var(--fondo);
      color: var(--texto);
      overflow-x:hidden;
    }
    a{ color:inherit; text-decoration:none; }

    .page-wrap{
      max-width: 1180px;
      margin: 0 auto;
      background: var(--panel);
      box-shadow: 0 0 0 1px #e5e5e5;
      min-height:100vh;
    }

    .top-bar{
      background:#fff;
      border-bottom:1px solid #e6e6e6;
      font-size:13px;
    }
    .top-bar .inner{
      max-width: 1180px;
      margin: 0 auto;
      padding: 8px 14px;
      display:flex;
      justify-content:flex-end;
      gap:18px;
    }
    .top-bar a{ color:#555; }
    .top-bar a:hover{ text-decoration:underline; }

    header{
      background:#fff;
      border-bottom: 1px solid #e6e6e6;
    }
    .header-inner{
      max-width: 1180px;
      margin:0 auto;
      padding: 14px;
      display:flex;
      align-items:center;
      gap:18px;
      flex-wrap:wrap;
    }
    .brand-logos img{
      height:44px;
      width:auto;
      display:block;
    }
    .brand-title{
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .brand-title b{
      color: var(--verde-osc);
      font-size:16px;
    }
    .brand-title span{
      color:#666;
      font-size:12px;
    }

    nav{ background: var(--verde); }
    nav .nav-inner{
      max-width:1180px;
      margin:0 auto;
      padding:0 8px;
    }
    nav ul{
      list-style:none;
      margin:0;
      padding:0;
      display:flex;
      justify-content:center;
      gap:2px;
      flex-wrap:wrap;
    }
    nav a{
      display:block;
      padding:14px 18px;
      color:#fff;
      font-weight:bold;
      font-size:13px;
    }
    nav a:hover{ background: var(--verde-osc); }

    .layout{
      max-width:1180px;
      margin:0 auto;
      padding:16px 14px 24px;
      display:grid;
      grid-template-columns: 1fr;
      gap:16px;
    }

    .result-card{
      background:#fff;
      border:1px solid var(--borde);
      border-radius:10px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .result-top{
      display:flex;
      justify-content:space-between;
      gap:12px;
      padding:16px;
      border-bottom:1px solid #eee;
      flex-wrap:wrap;
      align-items:center;
    }
    .title{
      text-align:left;
    }
    .title h1{
      margin:0;
      font-size:18px;
      color:#111;
    }
    .title p{
      margin:4px 0 0;
      color: var(--muted);
      font-size:13px;
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .btn{
      border:1px solid #d8d8d8;
      background:#fff;
      color:#222;
      padding:10px 12px;
      border-radius:10px;
      cursor:pointer;
      font-weight:bold;
      font-size:13px;
    }
    .btn:hover{ background:#f6f6f6; }
    .btn-primary{
      border:none;
      background: var(--verde);
      color:#fff;
    }
    .btn-primary:hover{ background: var(--verde-osc); }

    .result-body{
      padding:16px;
      display:grid;
      grid-template-columns: 1fr 320px;
      gap:16px;
      align-items:start;
    }

    .section{
      border:1px solid #ededed;
      border-radius:10px;
      overflow:hidden;
    }
    .section h3{
      margin:0;
      background:#f6f7f6;
      padding:10px 12px;
      font-size:13px;
      border-bottom:1px solid #ededed;
    }
    .kv{
      padding:12px;
      font-size:13px;
    }
    .row{
      display:grid;
      grid-template-columns: 180px 1fr;
      gap:10px;
      padding:6px 0;
      border-bottom:1px dashed #eee;
    }
    .row:last-child{ border-bottom:none; }
    .k{ color:#333; font-weight:bold; }
    .v{ color:#222; }

    .offer{
      padding:12px;
      font-size:13px;
    }
    .offer .block{
      padding:10px;
      border:1px solid #eee;
      border-radius:10px;
      background:#fafafa;
    }
    .offer .block .line{ margin:6px 0; }
    .muted{ color: var(--muted); }

    .side{
      border:1px solid #ededed;
      border-radius:10px;
      overflow:hidden;
      background:#fff;
    }
    .side h3{
      margin:0;
      background:#f6f7f6;
      padding:10px 12px;
      font-size:13px;
      border-bottom:1px solid #ededed;
    }
    .side .box{
      padding:12px;
    }
    .qr{
      border:1px solid #e6e6e6;
      border-radius:12px;
      padding:14px;
      text-align:center;
      background:#fff;
    }
    .qr p{ margin:8px 0 0; font-weight:bold; font-size:12px; }
    .qr small{ color:var(--muted); }

    .warning{
      margin-top:12px;
      font-size:12px;
      color:#333;
      background:#fff7e6;
      border:1px solid #ffe1a8;
      padding:10px 12px;
      border-radius:10px;
      line-height:1.4;
    }

    .social-wrap{
      background:#2e2e2e;
      color:#fff;
      margin-top: 14px;
    }
    .social-inner{
      max-width:1180px;
      margin:0 auto;
      padding:18px 14px;
    }
    .social-title{
      font-weight:bold;
      font-size:13px;
      margin-bottom:12px;
      letter-spacing:.2px;
    }
    .social-buttons{
      display:flex;
      gap:14px;
      flex-wrap:wrap;
    }
    .social-btn{
      display:flex;
      align-items:center;
      gap:10px;
      background:#1f1f1f;
      border:1px solid #3a3a3a;
      color:#fff;
      padding:12px 14px;
      border-radius:8px;
      min-width:240px;
    }
    .social-icon{
      width:34px;
      height:34px;
      border-radius:50%;
      display:grid;
      place-items:center;
      font-weight:bold;
    }
    .fb{ background:#1877F2; }
    .yt{ background:#FF0000; }

    .copyright{
      background:#1f1f1f;
      color:#cfcfcf;
      text-align:center;
      padding:10px 14px;
      font-size:12px;
      border-top:1px solid #3a3a3a;
    }

    @media (max-width: 980px){
      .result-body{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="page-wrap">

    <div class="top-bar">
      <div class="inner">
        <a href="index.html">Inicio</a>
        <a href="#">Directorio</a>
        <a href="#">Soporte</a>
      </div>
    </div>

    <header>
      <div class="header-inner">
        <div class="brand-logos">
          <img src="https://i.imgur.com/g3QP0r7.png" alt="Logo de la plataforma" />
        </div>
        <div class="brand-title">
          <b>Plataforma Acad√©mica</b>
          <span>Validaci√≥n de cursos y constancias</span>
        </div>
      </div>
    </header>

    <nav>
      <div class="nav-inner">
        <ul>
          <li><a href="index.html">INICIO</a></li>
          <li><a href="#">TR√ÅMITES Y SERVICIOS</a></li>
          <li><a href="#">NOTICIAS</a></li>
          <li><a href="#">CONTACTO</a></li>
        </ul>
      </div>
    </nav>

    <div class="layout">

      <div class="result-card">
        <div class="result-top">
          <div class="title">
            <h1>Sistema Integral de Formaci√≥n Continua</h1>
            <p>Consulta C√≥digo QR</p>
          </div>

          <div class="actions">
            <button class="btn" type="button" onclick="goBack()">Volver</button>
            <button class="btn btn-primary" type="button" onclick="copyLink()">Copiar enlace</button>
          </div>
        </div>

        <div class="result-body">
          <div>
            <div class="section">
              <h3>Datos del Participante</h3>
              <div class="kv" id="datosParticipante">
                <!-- Se llena por JS -->
              </div>
            </div>

            <div class="section" style="margin-top:12px;">
              <h3>INSTITUCI√ìN FORMADORA</h3>
              <div class="kv" id="instFormadora">
                <!-- Se llena por JS -->
              </div>
            </div>

            <div class="section" style="margin-top:12px;">
              <h3>OFERTA CURSADA</h3>
              <div class="offer" id="ofertaCursada">
                <!-- Se llena por JS -->
              </div>
            </div>

            <div class="warning">
              <b>**</b>Esta informaci√≥n no sustituye a la constancia y se presenta s√≥lo con fines de validaci√≥n de la misma.
            </div>
          </div>

          <div class="side">
            <h3>Consulta por CURP</h3>
            <div class="box">
              <div class="qr">
                <div style="font-size:28px;">üîé</div>
                <p id="curpSide">‚Äî</p>
                <small id="urlSide">‚Äî</small>
              </div>
            </div>
          </div>

        </div>
      </div>

    </div>

    <div class="social-wrap">
      <div class="social-inner">
        <div class="social-title">REDES SOCIALES</div>
        <div class="social-buttons">
          <a class="social-btn" target="_blank" href="https://www.facebook.com/iebem/?fref=ts#">
            <div class="social-icon fb">f</div>
            <div>
              <b>HAZTE FAN EN FACEBOOK</b><br>
              <span>Visita la p√°gina oficial</span>
            </div>
          </a>

          <a class="social-btn" target="_blank" href="https://www.youtube.com/user/IEBEMTV">
            <div class="social-icon yt">‚ñ∂</div>
            <div>
              <b>CANAL EN YOUTUBE</b><br>
              <span>Contenido y transmisiones</span>
            </div>
          </a>
        </div>
      </div>

      <div class="copyright">¬© 2026. Todos los derechos reservados.</div>
    </div>

  </div>

  <script>
    // === Base (demo). Debe coincidir con index.html ===
    const basePersonas = [
      {
        curp: "BIDD971230HASRZM02",
        participante: {
          primerApellido: "BRIONES",
          segundoApellido: "D√çAZ",
          nombres: "DAMI√ÅN",
          curp: "BIDD971230HASRZM02"
        },
        institucion: {
          denominacion: "Instituto de la Educaci√≥n B√°sica del Estado de Morelos/Instituto de Capacitaci√≥n Docente de Morelos S.C."
        },
        oferta: {
          folio: "-01-IEA-DCM-2025-87341",  // inventado y distinto
          nombre: "LEER Y ESCRIBIR: HERRAMIENTAS INTELECTUALES E INTERCULTURALES PARA ENSE√ëAR A PENSAR DE FORMA CR√çTICA EN EDUCACI√ìN B√ÅSICA",
          tipo: "Curso",
          duracion: "40 hrs.",
          estatus: "CONCLUIDO"
        }
      }
    ];

    function goBack(){
      window.location.href = "index.html";
    }

    async function copyLink(){
      try{
        await navigator.clipboard.writeText(window.location.href);
        alert("Enlace copiado.");
      }catch(e){
        // si el navegador bloquea clipboard, al menos mostramos algo
        alert("No se pudo copiar autom√°ticamente. Copia el enlace desde la barra del navegador.");
      }
    }

    // Leer CURP de la URL
    const params = new URLSearchParams(window.location.search);
    const curp = (params.get('curp') || '').trim();

    // Si no hay CURP, regresar
    if(!curp){
      window.location.href = "index.html";
    }

    // Buscar
    const persona = basePersonas.find(p => p.curp === curp);

    if(!persona){
      // si alguien llega aqu√≠ con curp no registrada
      window.location.href = "index.html";
    }

    // Pintar ‚ÄúDatos del Participante‚Äù
    const dp = persona.participante;
    document.getElementById('datosParticipante').innerHTML = `
      <div class="row"><div class="k">Primer Apellido:</div><div class="v">${dp.primerApellido}</div></div>
      <div class="row"><div class="k">Segundo Apellido:</div><div class="v">${dp.segundoApellido}</div></div>
      <div class="row"><div class="k">Nombre(s):</div><div class="v">${dp.nombres}</div></div>
      <div class="row"><div class="k">CURP:</div><div class="v">${dp.curp}</div></div>
    `;

    // Instituci√≥n
    document.getElementById('instFormadora').innerHTML = `
      <div class="row"><div class="k">Denominaci√≥n:</div><div class="v">${persona.institucion.denominacion}</div></div>
    `;

    // Oferta cursada
    const of = persona.oferta;
    document.getElementById('ofertaCursada').innerHTML = `
      <div class="block">
        <div class="line"><b>Folio:</b> ${of.folio}</div>
        <div class="line"><b>Nombre:</b> "${of.nombre}"</div>
        <div class="line"><b>Tipo:</b> ${of.tipo}</div>
        <div class="line"><b>Duraci√≥n:</b> ${of.duracion}</div>
        <div class="line"><b>Estatus:</b> ${of.estatus}</div>
      </div>
    `;

    // Side
    document.getElementById('curpSide').textContent = curp;
    document.getElementById('urlSide').textContent = window.location.href;
  </script>
</body>
</html>
